(function(){var e={4025:function(e,t,s){"use strict";var o=s(9963),n=s(6252);function r(e,t,s,o,r,a){const i=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(i)}var a={name:"App"},i=s(3744);const u=(0,i.Z)(a,[["render",r]]);var l=u,c=s(5121),d=s(2201),p=s(3577);const m={key:0},g={style:{"background-color":"rgb(231, 231, 231)",width:"50%",height:"600px",margin:"auto"}},f=(0,n._)("h1",null,"Feed of discussion",-1),h={style:{height:"600px",overflow:"scroll","background-color":"rgb(231, 231, 231)"}},v={class:"box"},b={class:"exp"},y=["onUpdate:modelValue"],w={class:"foo"},_={class:"mesbox"},S={id:"inputs",class:"fs"},O=(0,n._)("fieldset",{id:"actions",class:"fs"},[(0,n._)("input",{type:"submit",id:"submit",value:"Envoyer",class:"envmes"})],-1);function x(e,t,s,r,a,i){return i.posts&&i.posts.items?((0,n.wg)(),(0,n.iD)("div",m,[(0,n._)("div",g,[f,(0,n._)("div",h,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.posts.items,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.timestamp_utc_iso8601},[(0,n._)("div",v,[(0,n._)("div",b,(0,p.zw)(e.user_id)+" :",1),(0,n.wy)((0,n._)("textarea",{class:"mes","onUpdate:modelValue":t=>e.message=t},null,8,y),[[o.nr,e.message]])])])))),128))])]),(0,n._)("div",w,[(0,n._)("div",_,[(0,n._)("form",{onSubmit:t[1]||(t[1]=(0,o.iM)(((...e)=>i.handleSubmit&&i.handleSubmit(...e)),["prevent"]))},[(0,n._)("fieldset",S,[(0,n.wy)((0,n._)("textarea",{id:"message",type:"string",name:"Message",placeholder:"Enter your message","onUpdate:modelValue":t[0]||(t[0]=e=>a.message=e),required:""},null,512),[[o.nr,a.message]])]),O],32)])])])):(0,n.kq)("",!0)}var U=s(3907),j=s(2827);const T={UserPoolId:"eu-west-1_xduTd5dYn",ClientId:"1pj36sl427865j1q4cvqs7he77"};var P=new j.AM(T);const k=(0,U.MT)({state:{posts:[],user:null},getters:{getUser:e=>e.user,posts:e=>e.posts,isAuthenticated:e=>!!e.user},mutations:{LOGOUT(e){e.user=null},SET_USER(e,t){e.user=t},SET_ITEMS(e,t){e.posts=t}},actions:{async loadPosts({commit:e}){try{const t=await c.Z.get("http://localhost:8080/test_hellolambda/all-messages");e("SET_ITEMS",t.data)}catch(t){alert("Failed to send request cause of :"+t),console.log(t)}},async LogOut({commit:e}){e("LOGOUT")},async addPost(e){console.log(e)},connectUser(e){console.log(e),P.login(e["username"],e["password"],[],null,((e,t)=>e?(console.log(e),!1):(console.log(t),!0)))}}});var E=k,A={name:"DiscussionBox",data(){return{message:""}},methods:{handleSubmit(){const e={message:this.message};console.log(e)}},computed:{posts(){const e=E.getters.posts;return e||{items:[]}},isAuthenticated(){return E.getters.isAuthenticated}},async created(){await E.dispatch("loadPosts")}};const M=(0,i.Z)(A,[["render",x]]);var L=M;const q={id:"login-content"},Z=(0,n._)("h1",{style:{}},"Welcome to our discussion App",-1),D={id:"inputsl"},V=(0,n._)("fieldset",{id:"actionsl"},[(0,n._)("input",{type:"submit",id:"submit",value:"Log in",class:"ipt"})],-1);function C(e,t,s,r,a,i){return(0,n.wg)(),(0,n.iD)("div",q,[Z,(0,n._)("form",{class:"form",onSubmit:t[2]||(t[2]=(0,o.iM)(((...e)=>i.handleSubmit&&i.handleSubmit(...e)),["prevent"]))},[(0,n._)("fieldset",D,[(0,n.wy)((0,n._)("input",{id:"username",type:"username",name:"Username",placeholder:"Enter you username",class:"ipt","onUpdate:modelValue":t[0]||(t[0]=e=>a.username=e),required:""},null,512),[[o.nr,a.username]]),(0,n.wy)((0,n._)("input",{id:"password",type:"password",name:"Password",placeholder:"Password",class:"ipt","onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e),required:""},null,512),[[o.nr,a.password]])]),V],32)])}s(560);var I={name:"LoginPage",data(){return{username:"",password:""}},computed:{isAuthenticated(){return E.getters.isAuthenticated},posts(){return E.getters.posts},getUser:e=>e.user},methods:{handleSubmit(){const e={username:this.username,password:this.password};P.login(e["username"],e["password"],[],null,((t,s)=>{t?console.log(t):(Y.push("/home"),E.replaceState({user:e["username"]}),console.log(s))}))}}};const F=(0,i.Z)(I,[["render",C]]);var G=F;const H=[{path:"/home",name:"Home",component:L},{path:"/login",name:"Login",component:G}],R=(0,d.p7)({history:(0,d.PO)(),routes:H});R.beforeEach(((e,t,s)=>{const o=E.getters.isAuthenticated;console.log(o),"Login"===e.name||o?s():s("/login")}));var Y=R;c.Z.defaults.withCredentials=!0,c.Z.defaults.baseURL="https://gabbyblog.herokuapp.com/";const z=(0,o.ri)(l);z.use(Y),z.use(E),z.mount("#app")},6249:function(){}},t={};function s(o){var n=t[o];if(void 0!==n)return n.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,o,n,r){if(!o){var a=1/0;for(c=0;c<e.length;c++){o=e[c][0],n=e[c][1],r=e[c][2];for(var i=!0,u=0;u<o.length;u++)(!1&r||a>=r)&&Object.keys(s.O).every((function(e){return s.O[e](o[u])}))?o.splice(u--,1):(i=!1,r<a&&(a=r));if(i){e.splice(c--,1);var l=n();void 0!==l&&(t=l)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[o,n,r]}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,r,a=o[0],i=o[1],u=o[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(n in i)s.o(i,n)&&(s.m[n]=i[n]);if(u)var c=u(s)}for(t&&t(o);l<a.length;l++)r=a[l],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(c)},o=self["webpackChunkhavoc_project"]=self["webpackChunkhavoc_project"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(4025)}));o=s.O(o)})();
//# sourceMappingURL=app.43c10c06.js.map